---
title: 微服务架构学习03-如何实现RPC远程服务调用
tags: [微服务]
---
# 微服务架构学习03-如何实现RPC远程服务调用
本系列文章为极客时间课程《从0开始学微服务》课程记录。
RPC调用：服务者和消费者运行在两台不同物理机上的不同进程内，，他们之间的调用相比本地方法调用，称之为RPC。   
RPC调用需要解决以下四个问题。
## 客户端和服务端如何建立网络连接
1. HTTP通信
2. socket通信

## 服务端如何处理请求
1. 同步阻塞方式。客户端每发一次请求，服务端就生成一个线程去处理。直到线程数到达系统瓶颈。适合于连接数比较小的场景。
2. 同步非阻塞。客户端每发一次请求，服务端并不是每次都创建一个新线程去处理，而是通过IO多路复用技术处理。适合于连接数比较多且请求消耗比较轻的场景，比如聊天服务器。
3. 异步非阻塞。客户端发起一个IO操作后立即返回，等IO操作完成后，客户端会得到通知。适用于连接数比较多且请求消耗比较重的业务场景，比如涉及IO操作的相册。开发难度最大。

上述场景建议还是使用稳妥的开源方案，Netty和MINA。

## 数据传输采用什么协议
一般主要使用http和dubbo

## 数据如何序列号和反序列化
对数据编码解码主要为了减小传输量。
常用的有两类：文本类如XML/JSON，二进制类如PB/Thrift。
服务化框架Dubbo 不仅支持Dubbo协议，还支持ROMI HTTP JSON Hession2.0 一级JAVA序列化。






































































































