---
title: 微服务设计笔记10
tags: [微服务]
---
# 微服务设计笔记10
本篇笔记为微服务设计系列读书笔记的第十篇，主要记录康威定律和组织架构。   
康威定律：任何组织在设计一套系统时，所交付的设计方案在结构上都与该组织的沟通结构保持一致。  
如果你有四个小组开发一个编译器，那你会得到一个四步编译器。  

## 松耦合和紧耦合组织
紧耦合组织：商业产品公司。松耦合组织：分布式开源社区。组织的耦合度越低，其创建的系统的模块化就越好，耦合就越低。windows vista统计数据，与组织结构相关联的指标和软件质量的相关度最高。  
Amazon和Netflix 信奉组织和架构应该一致。两个比萨团队：没有一个团队应该大到两个披萨不够吃。Netflix确保其本身由多个小而独立的团队组成，以保证他们创建的服务也能独立于彼此。   
我们可以做什么？   

## 适应沟通途径
单一的 物理位置上在一起的团队，能够进行频繁的细粒度的沟通。参与开发系统的开发人员之间存在地理位置的差异，是一个应该对服务进行拆分的很明显的信号。


## 共享服务的原因
服务所有权：拥有服务的团队负责对该服务进行更改。
共享服务所有权的模式，这种效果不佳。
### 难以分割
拆分服务成本太高是多个团队负责单个服务的原因之一。
### 特性团队
特性团队：一个小团队负责开发一系列特性需要的素有功能，即使这些功能需要跨越组件的边界。特性团队是对传统IT组织进行的一种修正，比如一个团队负责用户界面，一个团队负责应用程序逻辑，一个团队负责数据库。这个微服务是不同的，微服务是按照业务逻辑拆分。  
### 交付瓶颈
共享服务另一个关键原因是，可以避免交付配瓶颈。   
解决共享服务的一种途径：内部开源。
## 内部开源
### 守护者的角色
内部采用跟标准开源项目同样的模式，分离出一组受信任的提交者。好的守护者需要花费大量的精力与提交者进行清晰的沟通，并在工作中进行引导。
### 成熟
开源项目在第一个版本的核心代码前，往往不允许不受信任的提交者提交代码。
### 工具
git，良好的构建和部署流水线 CICD。

## 小结
康威定律强调了视图让系统设计跟组织结构不匹配所导致的危险。服务所有权与同地团队相匹配。























































